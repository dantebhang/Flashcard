(this["webpackJsonpproject-flashcards"]=this["webpackJsonpproject-flashcards"]||[]).push([[0],{34:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(19),s=c.n(r),i=c(4),d=c(5),o=c(2),b=c(3),l=c.n(b),j=c(10),u=c(22),m=["cards"],h=Object({NODE_ENV:"production",PUBLIC_URL:"/flashcard-server",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL||"http://localhost:5000",O=new Headers;function x(e){e.cards;return Object(u.a)(e,m)}function p(e,t,c){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(l.a.mark((function e(t,c,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,c);case 3:if(!((a=e.sent).status<200||a.status>399)){e.next=6;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 6:if(204!==a.status){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,a.json();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=18;break}throw console.error(e.t0.stack),e.t0;case 18:return e.abrupt("return",Promise.resolve(n));case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function v(){return(v=Object(j.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(h,"/decks?_embed=cards"),e.next=3,p(c,{signal:t},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(j.a)(l.a.mark((function e(t,c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks"),a={method:"POST",headers:O,body:JSON.stringify(x(t)),signal:c},e.next=4,p(n,a,{});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(t,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks/").concat(t,"?_embed=cards"),e.next=3,p(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(l.a.mark((function e(t,c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks/").concat(t.id,"?_embed=cards"),a={method:"PUT",headers:O,body:JSON.stringify(x(t)),signal:c},e.next=4,p(n,a,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(l.a.mark((function e(t,c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks/").concat(t),a={method:"DELETE",signal:c},e.next=4,p(n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(j.a)(l.a.mark((function e(t,c,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(h,"/cards"),c.deckId=Number(t),r={method:"POST",headers:O,body:JSON.stringify(c),signal:n},e.next=5,p(a,r,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(j.a)(l.a.mark((function e(t,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/cards/").concat(t),e.next=3,p(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(j.a)(l.a.mark((function e(t,c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/cards/").concat(t.id),a={method:"PUT",headers:O,body:JSON.stringify(t)},e.next=4,p(n,a,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(j.a)(l.a.mark((function e(t,c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/cards/").concat(t),a={method:"DELETE",signal:c},e.next=4,p(n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O.append("Content-Type","application/json");var F=c(0);var T=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];function r(){(function(e){return v.apply(this,arguments)})().then(a)}Object(n.useEffect)(r,[]);var s=c.map((function(e){return Object(F.jsxs)("li",{className:"list-group-item list-group-item-action flex-column align-items-start",children:[Object(F.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(F.jsx)("h5",{className:"mb-1",children:e.name}),Object(F.jsxs)("small",{children:[e.cards.length," cards"]})]}),Object(F.jsx)("p",{className:"mb-1",children:e.description}),Object(F.jsxs)(o.b,{to:"/decks/".concat(e.id),className:"btn btn-secondary mr-2",title:"Edit deck",children:[Object(F.jsx)("span",{className:"oi oi-eye"})," View"]}),Object(F.jsxs)(o.b,{to:"/decks/".concat(e.id,"/study"),className:"btn btn-primary",title:"Study deck",children:[Object(F.jsx)("span",{className:"oi oi-book"})," Study"]}),Object(F.jsx)("button",{className:"btn btn-danger float-right",title:"Delete deck",onClick:function(){return t=e.id,void(window.confirm("Delete this deck?\n\nYou will not be able to recover it.")&&w(t).then(r));var t},children:Object(F.jsx)("span",{className:"oi oi-trash"})})]},e.id)}));return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(o.b,{to:"/decks/new",className:"btn btn-secondary",children:[Object(F.jsx)("span",{className:"oi oi-plus"})," Create Deck"]}),Object(F.jsx)("ul",{className:"list-group mt-2 deck-list",children:s})]})};var _=function(){return Object(F.jsx)("div",{className:"Home container",children:Object(F.jsx)(T,{})})},H={front:"back",back:"front"};var L=function(e){var t=e.card,c=void 0===t?{}:t,a=e.title,r=e.children,s=Object(n.useState)("front"),i=Object(d.a)(s,2),o=i[0],b=i[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),u=j[0],m=j[1];return Object(n.useEffect)((function(){b("front"),m(!1)}),[c]),Object(F.jsx)("div",{className:"card ".concat(o," study-card"),children:Object(F.jsxs)("div",{className:"card-body",children:[Object(F.jsx)("h5",{className:"card-title",children:a}),Object(F.jsx)("p",{className:"card-text",children:c[o]}),Object(F.jsx)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:function(){b((function(e){return H[e]})),m(!0)},children:"Flip"}),u&&r]})})};var P=function(e){var t=e.deckId,c=e.name,n=e.children;return Object(F.jsxs)("main",{className:"container study-page",children:[Object(F.jsx)("nav",{"aria-label":"breadcrumb",children:Object(F.jsxs)("ol",{className:"breadcrumb",children:[Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/",children:[Object(F.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsx)(o.b,{to:"/decks/".concat(t),children:c})}),Object(F.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Study"})]})}),Object(F.jsxs)("h1",{children:[c,": Study"]}),n]})};var A=function(e){var t=e.deckId,c=e.cardCount;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h2",{children:"Not enough cards."}),Object(F.jsxs)("p",{children:["You need at least 3 cards to study. There are ",c," cards in this deck."]}),Object(F.jsxs)(o.b,{to:"/decks/".concat(t,"/cards/new"),className:"btn btn-primary",children:[Object(F.jsx)("span",{className:"oi oi-plus"})," Add Cards"]})]})};var B=function(){var e=Object(i.h)().deckId,t=Object(n.useState)({name:"Loading...",cards:[]}),c=Object(d.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(1),o=Object(d.a)(s,2),b=o[0],l=o[1],j=Object(i.g)();Object(n.useEffect)((function(){k(e).then(r)}),[e]);var u=a.cards.length,m="Card ".concat(b," of ").concat(u),h=a.cards[b-1];return u<=2?Object(F.jsx)(P,{name:a.name,deckId:e,children:Object(F.jsx)(A,{deckId:e,cardCount:u})}):Object(F.jsx)(P,{name:a.name,deckId:e,children:Object(F.jsx)(L,{card:h,title:m,children:Object(F.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(b===u)return!window.confirm("Restart cards?\n\nClick 'cancel' to return to the home page.")?j.push("/"):l(1);l((function(e){return Math.min(u,e+1)}))},children:"Next"})})})};var J=function(){return Object(F.jsx)("div",{className:"NotFound",children:Object(F.jsx)("h1",{children:"Not Found"})})};var R=function(){return Object(F.jsx)("header",{className:"jumbotron bg-dark",children:Object(F.jsxs)("div",{className:"container text-white",children:[Object(F.jsx)("h1",{className:"display-4",children:"Flashcard-o-matic"}),Object(F.jsx)("p",{className:"lead",children:"Discover The Flashcard Difference."})]})})},U=c(13),q=c(12);var Y=function(e){var t=e.onSubmit,c=e.onCancel,a=e.initialState,r=void 0===a?{name:"",description:""}:a,s=Object(n.useState)(r),i=Object(d.a)(s,2),o=i[0],b=i[1];function l(e){var t=e.target,c=t.name,n=t.value;b((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(U.a)({},c,n))}))}return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t(o)},className:"deck-edit",children:Object(F.jsxs)("fieldset",{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"name",children:"Name"}),Object(F.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:o.name,required:!0,placeholder:"Deck Name",onChange:l})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"description",children:"Description"}),Object(F.jsx)("textarea",{id:"description",name:"description",className:"form-control",rows:"4",required:!0,placeholder:"Brief description of the deck",value:o.description,onChange:l})]}),Object(F.jsx)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:c,children:"Cancel"}),Object(F.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})};var K=function(){var e=Object(i.g)(),t=Object(i.h)().deckId,c=Object(n.useState)({name:"",description:""}),a=Object(d.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){k(t).then(s)}),[t]);var b=r.id?Object(F.jsx)(Y,{onCancel:function(){e.goBack()},onSubmit:function(t){(function(e,t){return y.apply(this,arguments)})(t).then((function(t){return e.push("/decks/".concat(t.id))}))},initialState:r}):Object(F.jsx)("p",{children:"Loading..."});return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("nav",{"aria-label":"breadcrumb",children:Object(F.jsxs)("ol",{className:"breadcrumb",children:[Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/",children:[Object(F.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsx)(o.b,{to:"/decks/".concat(t),children:r.name})}),Object(F.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit Deck"})]})}),Object(F.jsx)("h1",{children:"Edit Deck"}),b]})};var W=function(e){var t=e.deck,c=e.onCardDelete,n=t.cards,a=(void 0===n?[]:n).map((function(e){return Object(F.jsx)("li",{className:"list-group-item list-group-item-action flex-column align-items-start",children:Object(F.jsxs)("div",{className:"row",children:[Object(F.jsx)("div",{className:"col-md-10",children:Object(F.jsxs)("div",{className:"row",children:[Object(F.jsx)("div",{className:"col",children:e.front}),Object(F.jsx)("div",{className:"col",children:e.back})]})}),Object(F.jsxs)("div",{className:"col text-right",children:[Object(F.jsxs)(o.b,{to:"/decks/".concat(t.id,"/cards/").concat(e.id,"/edit"),className:"btn btn-secondary mr-2",title:"Edit Card",children:[Object(F.jsx)("span",{className:"oi oi-pencil"})," Edit"]}),Object(F.jsx)("button",{className:"btn btn-danger",title:"Delete Card",children:Object(F.jsx)("span",{className:"oi oi-trash",onClick:function(){return c(e.id)}})})]})]})},e.id)}));return Object(F.jsxs)("div",{className:"mt-4 card-list",children:[Object(F.jsx)("h3",{children:"Cards"}),Object(F.jsx)("ul",{className:"list-group",children:a})]})};var M=function(){var e=Object(i.g)(),t=Object(i.h)().deckId,c=Object(n.useState)({cards:[]}),a=Object(d.a)(c,2),r=a[0],s=a[1];function b(){k(t).then(s)}return Object(n.useEffect)(b,[t]),Object(F.jsxs)("main",{className:"container deck-view",children:[Object(F.jsx)("nav",{"aria-label":"breadcrumb",children:Object(F.jsxs)("ol",{className:"breadcrumb",children:[Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/",children:[Object(F.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(F.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:r.name})]})}),Object(F.jsx)("div",{className:"media mb-2",children:Object(F.jsxs)("div",{className:"media-body",children:[Object(F.jsx)("h5",{className:"mt-0",children:r.name}),r.description]})}),Object(F.jsxs)(o.b,{to:"/decks/".concat(r.id,"/edit"),className:"btn btn-secondary mr-2",title:"Edit deck",children:[Object(F.jsx)("span",{className:"oi oi-pencil"})," Edit"]}),Object(F.jsxs)(o.b,{to:"/decks/".concat(r.id,"/study"),className:"btn btn-primary mr-2",title:"Study deck",children:[Object(F.jsx)("span",{className:"oi oi-book"})," Study"]}),Object(F.jsxs)(o.b,{to:"/decks/".concat(r.id,"/cards/new"),className:"btn btn-primary",title:"Add Card",children:[Object(F.jsx)("span",{className:"oi oi-plus"})," Add Cards"]}),Object(F.jsx)("button",{className:"btn btn-danger float-right",title:"Delete deck",children:Object(F.jsx)("span",{className:"oi oi-trash",onClick:function(){window.confirm("Delete this deck?\n\nYou will not be able to recover it.")&&w(r.id).then((function(){return e.push("/decks")}))}})}),Object(F.jsx)(W,{deck:r,onCardDelete:function(e){window.confirm("Delete this card?\n\nYou will not be able to recover it.")&&function(e,t){return I.apply(this,arguments)}(e).then(b)}})]})};var V=function(e){var t=e.onSubmit,c=e.onDone,a=e.deckName,r=void 0===a?"Loading...":a,s=e.initialState,i=e.doneButtonLabel,o=void 0===i?"Done":i,b=Object(n.useState)(s),l=Object(d.a)(b,2),j=l[0],u=l[1];function m(e){var t=e.target,c=t.name,n=t.value;u((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(U.a)({},c,n))}))}return Object(F.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t(Object(q.a)({},j)),u({front:"",back:""})},className:"card-form",children:Object(F.jsxs)("fieldset",{children:[Object(F.jsxs)("legend",{children:[r,": Add Card"]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"front",children:"Front"}),Object(F.jsx)("textarea",{id:"front",name:"front",tabIndex:"1",className:"form-control",required:!0,placeholder:"Front side of card",value:j.front,onChange:m})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"back",children:"Back"}),Object(F.jsx)("textarea",{id:"back",name:"back",tabIndex:"2",className:"form-control",required:!0,placeholder:"Back side of card",value:j.back,onChange:m})]}),Object(F.jsx)("button",{className:"btn btn-secondary mr-2",onClick:c,tabIndex:"4",children:o}),Object(F.jsx)("button",{type:"submit",className:"btn btn-primary",tabIndex:"3",children:"Save"})]})})};var z=function(e){e.title;var t=Object(i.g)(),c=Object(i.h)(),a=c.deckId,r=c.cardId,s=Object(n.useState)({front:"",back:""}),b=Object(d.a)(s,2),l=b[0],j=b[1],u=Object(n.useState)({cards:[]}),m=Object(d.a)(u,2),h=m[0],O=m[1];function x(){t.push("/decks/".concat(h.id))}Object(n.useEffect)((function(){k(a).then(O),function(e,t){return E.apply(this,arguments)}(r).then(j)}),[a,r]);var p=l.id?Object(F.jsx)(V,{onSubmit:function(e){(function(e,t){return D.apply(this,arguments)})(e).then(x)},onDone:x,deckName:h.name,initialState:l,doneButtonLabel:"Cancel"}):Object(F.jsx)("p",{children:"Loading..."});return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("nav",{"aria-label":"breadcrumb",children:Object(F.jsxs)("ol",{className:"breadcrumb",children:[Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/",children:[Object(F.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/decks/".concat(a),children:["Deck ",h.name]})}),Object(F.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:["Edit Card ",r]})]})}),Object(F.jsx)("h2",{children:"Edit Card"}),p]})};var G=function(){var e=Object(i.g)(),t=Object(i.h)().deckId,c=Object(n.useState)({cards:[]}),a=Object(d.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){k(t).then(s)}),[t]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("nav",{"aria-label":"breadcrumb",children:Object(F.jsxs)("ol",{className:"breadcrumb",children:[Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/",children:[Object(F.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsx)(o.b,{to:"/decks/".concat(t),children:r.name})}),Object(F.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Add Card"})]})}),Object(F.jsx)(V,{deckName:r.name,initialState:r,onSubmit:function(e){!function(e,t,c){C.apply(this,arguments)}(t,e)},onDone:function(){e.push("/decks/".concat(t))}})]})};var Q=function(){var e=Object(i.g)();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("nav",{"aria-label":"breadcrumb",children:Object(F.jsxs)("ol",{className:"breadcrumb",children:[Object(F.jsx)("li",{className:"breadcrumb-item",children:Object(F.jsxs)(o.b,{to:"/",children:[Object(F.jsx)("span",{className:"oi oi-home"})," Home"]})}),Object(F.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create Deck"})]})}),Object(F.jsx)("h1",{children:"Create Deck"}),Object(F.jsx)(Y,{onCancel:function(){e.goBack()},onSubmit:function(t){(function(e,t){return N.apply(this,arguments)})(t).then((function(t){return e.push("/decks/".concat(t.id))}))}})]})};var X=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(R,{}),Object(F.jsx)("div",{className:"container",children:Object(F.jsxs)(i.d,{children:[Object(F.jsx)(i.b,{path:"/decks/new",children:Object(F.jsx)(Q,{})}),Object(F.jsx)(i.b,{path:"/decks/:deckId/study",children:Object(F.jsx)(B,{})}),Object(F.jsx)(i.b,{path:"/decks/:deckId/edit",children:Object(F.jsx)(K,{})}),Object(F.jsx)(i.b,{path:"/decks/:deckId/cards/new",children:Object(F.jsx)(G,{})}),Object(F.jsx)(i.b,{path:"/decks/:deckId/cards/:cardId/edit",children:Object(F.jsx)(z,{})}),Object(F.jsx)(i.b,{exact:!0,path:"/decks/:deckId",children:Object(F.jsx)(M,{})}),Object(F.jsx)(i.b,{exact:!0,path:"/decks",children:Object(F.jsx)(i.a,{to:"/"})}),Object(F.jsx)(i.b,{exact:!0,path:"/",children:Object(F.jsx)(_,{})}),Object(F.jsx)(i.b,{children:Object(F.jsx)(J,{})})]})})]})};var Z=function(){return Object(F.jsx)("div",{className:"app-routes",children:Object(F.jsx)(i.d,{children:Object(F.jsx)(i.b,{path:"/",children:Object(F.jsx)(X,{})})})})};s.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(o.a,{children:Object(F.jsx)(Z,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.c451e8ff.chunk.js.map